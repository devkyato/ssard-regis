<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>APC Students' Society Registration</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <!-- Main CSS -->
  <link rel="stylesheet" href="styles.css" />

  <!-- reCAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <!-- Loading Overlay -->
  <div id="loadingOverlay">
    <div class="spinner"></div>
    <p>Please wait while we process your registration...</p>
  </div>

  <div class="overlay"></div>

  <!-- Main Wrapper -->
  <div class="main-wrapper">
    <!-- Left Section (Form + Heading) -->
    <div class="form-container">
      <!-- APC Logo -->
      <div class="logo-container">
        <img
          src="https://ramconnect.apc.edu.ph/logo/nu-apc-cons-logo.png"
          alt="APC Logo"
          class="logo"
        />
      </div>
      <h1 id="formTitle">APC Registration Form</h1>

      <!-- Already Registered Container (QR Display + Re-Upload) -->
      <div id="alreadyRegisteredContainer" class="hidden">
        <p>You are already registered.</p>
        <h2>Your QR Code</h2>
        <div id="storedQrDisplay"></div>
        <button id="reuploadBtn" type="button">Re-upload Registration</button>
      </div>

      <!-- Registration Form -->
      <form id="registrationForm">
        <label for="name">Full Name:</label>
        <input 
          type="text"
          id="name"
          name="name"
          required
          placeholder="Enter your full name"
        />

        <label for="number">Phone Number:</label>
        <input
          type="text"
          id="number"
          name="number"
          required
          placeholder="Enter your phone number"
        />

        <label for="email">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          placeholder="Enter your email address"
        />

        <label for="school_name">School Name:</label>
        <input
          type="text"
          id="school_name"
          name="school_name"
          required
          placeholder="Enter your school name"
        />

        <label for="id_file">Front of School ID:</label>
        <input
          type="file"
          id="id_file"
          accept="image/*"
          required
        />

        <label>Signature:</label>
        <div class="signature-options">
          <div>
            <input
              type="radio"
              id="upload"
              name="signature_type"
              value="upload"
              checked
            />
            <label for="upload">Upload Signature</label>
          </div>
          <div>
            <input type="radio" id="draw" name="signature_type" value="draw" />
            <label for="draw">Draw Signature</label>
          </div>
        </div>

        <!-- Upload Section -->
        <div id="upload_section">
          <input type="file" id="signature_file" accept="image/*" />
        </div>

        <!-- Draw Section -->
        <div id="draw_section" style="display: none;">
          <canvas id="signature-pad" width="400" height="200"></canvas>
          <button type="button" id="clear">Clear Signature</button>
        </div>

        <!-- reCAPTCHA -->
        <div class="recaptcha-container">
          <div
            class="g-recaptcha"
            data-sitekey="YOUR_RECAPTCHA_SITE_KEY"
          ></div>
        </div>

        <button type="submit" id="registerBtn">Register</button>
      </form>

      <div id="message"></div>
    </div>

    <!-- Right Section (QR Code) -->
    <div class="qr-container">
      <h2>QR Preview</h2>
      <div id="qr_code_display" class="qr-display"></div>
    </div>
  </div>

  <!-- Footer / Social Links -->
  <footer>
    <div class="footer-inner">
      <p>Asia Pacific College</p>
      <p>3 Humabon, Makati, 1232 Kalakhang Maynila</p>
      <div class="social-links">
        <a href="https://twitter.com/asiapacificcoll" target="_blank">Twitter</a>
        <a href="https://www.facebook.com/AsiaPacificCollege" target="_blank">Facebook</a>
        <a href="https://www.instagram.com/asiapacificcollege/" target="_blank">Instagram</a>
      </div>
    </div>
  </footer>

  <!-- Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <!-- Initialize EmailJS -->
  <script>
    (function() {
      // Replace with your public key from EmailJS
      emailjs.init("SSDcjFdMjBWH15ZIq");
    })();
  </script>

  <!-- Main Script -->
  <script src="script.js"></script>
</body>
</html>
